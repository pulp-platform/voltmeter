# Copyright 2023 ETH Zurich and University of Bologna.
# Licensed under the Apache License, Version 2.0, see LICENSE for details.
# SPDX-License-Identifier: Apache-2.0
#
# Author: Sergio Mazzola, ETH Zurich <smazzola@iis.ee.ethz.ch>

param-platform:
  platform: jetson_agx_xavier
  profile_cpu: True
  profile_gpu: False
  frequencies_cpu: [115200, 192000, 268800, 345600, 422400, 499200, 576000, 652800, 729600, 806400, 883200, 960000, 1036800, 1113600, 1190400, 1267200, 1344000, 1420800, 1497600, 1574400, 1651200, 1728000, 1804800, 1881600, 1958400, 2035200, 2112000, 2188800, 2265600]

param-profiler:
  num_run: 2
  sample_period_us: 100000

arguments:
  events: all_events
  mode: characterization
  trace_dir: ./traces-cpu-char
  benchmarks:
    - name: backprop
      path: ./utils/workloads/rodinia/openmp/backprop/backprop.so
      args: 536870912
    - name: bfs
      path: ./utils/workloads/rodinia/openmp/bfs/bfs.so
      args: 8 ../utils/workloads/rodinia/data/bfs/graph16M.txt
    - name: euler3d_cpu_double
      path: ./utils/workloads/rodinia/openmp/cfd/euler3d_cpu_double.so
      args: ../utils/workloads/rodinia/data/cfd/missile.domn.0.5M
    - name: heartwall
      path: ./utils/workloads/rodinia/openmp/heartwall/heartwall.so
      args: ../utils/workloads/rodinia/data/heartwall/test.avi 104 8
    - name: hotspot
      path: ./utils/workloads/rodinia/openmp/hotspot/hotspot.so
      args: 8192 8192 6 8 ../utils/workloads/rodinia/data/hotspot/temp_8192 ../utils/workloads/rodinia/data/hotspot/power_8192 output.out
    - name: hotspot3D
      path: ./utils/workloads/rodinia/openmp/hotspot3D/3D.so
      args: 512 8 5000 ../utils/workloads/rodinia/data/hotspot3D/power_512x8 ../utils/workloads/rodinia/data/hotspot3D/temp_512x8 output.out
    - name: kmeans
      path: ./utils/workloads/rodinia/openmp/kmeans/kmeans_openmp/kmeans.so
      args: -n 8 -i ../utils/workloads/rodinia/data/kmeans/3000000_34.txt
    - name: lavaMD
      path: ./utils/workloads/rodinia/openmp/lavaMD/lavaMD.so
      args: -cores 8 -boxes1d 35
    - name: leukocyte
      path: ./utils/workloads/rodinia/openmp/leukocyte/OpenMP/leukocyte.so
      args: 100 8 ../utils/workloads/rodinia/data/leukocyte/testfile.avi
    - name: lud
      path: ./utils/workloads/rodinia/openmp/lud/omp/lud_omp.so
      args: -n 8 -s 16384
    - name: myocyte
      path: ./utils/workloads/rodinia/openmp/myocyte/myocyte.so
      args: 150000 16 1 8
    - name: needle
      path: ./utils/workloads/rodinia/openmp/nw/needle.so
      args: 40000 5 8
    - name: particlefilter
      path: ./utils/workloads/rodinia/openmp/particlefilter/particle_filter.so
      args: -x 512 -y 512 -z 100 -np 100000
    - name: pathfinder
      path: ./utils/workloads/rodinia/openmp/pathfinder/pathfinder.so
      args: 3000000 100
    - name: srad
      path: ./utils/workloads/rodinia/openmp/srad/srad_v2/srad.so
      args: 32768 32768 0 2048 0 2048 8 0.5 10
    - name: streamcluster
      path: ./utils/workloads/rodinia/openmp/streamcluster/sc_cpu.so
      args: 15 30 512 131072 131072 1000 none output.txt 8
